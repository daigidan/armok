grammar Armok::Parser::Grammar

  rule file
    (name declaration token+) <Armok::Parser::File>
  end

  rule name
    [a-zA-Z_]+
  end

  rule declaration
    space "[OBJECT:" name "]" space
  end

  rule token
    (space "[" name (":" value)* "]" space) <Armok::Parser::Token>
  end

  rule space
    [^\[]*
  end

  rule value
    rgb | integer | string
  end

  rule rgb
    integer ":" integer ":" integer
  end

  rule integer
    [0-9]+
  end

  rule string
    [a-zA-Z 0-9_]+
  end

end
